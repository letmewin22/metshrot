(window.webpackJsonp=window.webpackJsonp||[]).push([["about~home"],{"./src/js/components/Parallax.ts":
/*!***************************************!*\
  !*** ./src/js/components/Parallax.ts ***!
  \***************************************/
/*! exports provided: Parallax */function(e,t,s){"use strict";s.r(t),s.d(t,"Parallax",(function(){return r}));var n=s(/*! @babel/runtime/helpers/classCallCheck */"./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=s.n(n),a=s(/*! @babel/runtime/helpers/createClass */"./node_modules/@babel/runtime/helpers/createClass.js"),o=s.n(a),l=s(/*! @emotionagency/utils */"./node_modules/@emotionagency/utils/build/index.js"),c=s(/*! @emotionagency/smoothscroll */"./node_modules/@emotionagency/smoothscroll/build/index.js"),r=function(){function e(){i()(this,e),this.$els=document.querySelectorAll("[data-parallax]"),this.$sections=document.querySelectorAll("[data-section-parallax]"),this.sizes=[],this.init()}return o()(e,[{key:"init",value:function(){this.bounds(),l.resize.on(this.resize)}},{key:"bounds",value:function(){var e=this;["animate","resize"].forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"move",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,i=n.closest(".js-in-view");if(n.classList.contains("js-in-view")||i){var a="matrix3d(".concat(s,", 0, 0, 0,\n        0, ").concat(s,", 0, 0,\n        0, 0, 1, 0,\n        0, ").concat(t,", 0, 1)");e.style.transform=a,e.style.willChange="transform"}}},{key:"els",value:function(){var e=this;this.$els.length&&this.$els.forEach((function(t,s){var n=+t.dataset.parallax,i=e.sizes[s]-e.sizes[s]*(1+n),a=c.state.scrolled*n,o=t.dataset.scale?+t.dataset.scale:1;e.move(t,i+a,o)}))}},{key:"sections",value:function(){var e=this;this.$sections.length&&this.$sections.forEach((function(t){var s=+t.dataset.sectionParallax,n=c.state.scrolled*s;e.move(t,n)}))}},{key:"getSize",value:function(e,t){e.length&&e.forEach((function(e){var s=e.getBoundingClientRect(),n=s.top-s.height/2;t.push(n)}))}},{key:"resize",value:function(){this.sizes=[],this.getSize(this.$els,this.sizes),window.innerWidth>1024?l.raf.on(this.animate):l.raf.off(this.animate)}},{key:"animate",value:function(){this.els(),this.sections()}},{key:"destroy",value:function(){l.resize.off(this.resize),l.raf.off(this.animate)}}]),e}()}}]);